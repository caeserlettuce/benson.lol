

var ratings = [
    {
        "text": "it's cute!",
        "person": "mother",
        "rating": 5
    },
    {
        "text": "HE SPIN IN THE BACKGROUND",
        "person": "bluey bean",
        "rating": 4
    },
    {
        "text": "im gonna break it",
        "person": "18_gallons",
        "rating": 4
    },
    {
        "text": "⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀",
        "person": "Chell",
        "rating": 5
    },
    {
        "text": "im gonna voiceover all of this site in every language available",
        "person": "doe's world",
        "rating": 5
    },
    {
        "text": "[future jesse insert russian that translates to 'BENSON IS MY LIFE, I WOULDN'T TRADE HIM FOR ANYTHING']",
        "person": "[text that translated to russian: 'SVENSON']",
        "rating": 6.5
    },
    {
        "text": "my brother looks fabulous",
        "person": "finn",
        "rating": 5
    },





]

/*
    {
        "text": "",
        "person": "",
        "rating": 
    },
*/
var full_star = `<svg xmlns="http://www.w3.org/2000/svg" width="1.25em" viewBox="0 0 448 426" style="transform: translateY(5px);">
    <path fill="yellow" stroke="none" d="M 224.00,1.00 C 227.23,4.66 228.60,9.51 230.40,14.00 230.40,14.00 239.40,37.00 239.40,37.00 239.40,37.00 271.00,116.00 271.00,116.00 271.00,116.00 280.00,139.00 280.00,139.00 280.98,141.44 283.25,147.79 284.81,149.49 287.82,152.76 293.92,151.86 298.00,152.04 298.00,152.04 327.00,154.04 327.00,154.04 327.00,154.04 335.00,154.91 335.00,154.91 335.00,154.91 364.00,156.91 364.00,156.91 364.00,156.91 416.00,160.09 416.00,160.09 416.00,160.09 447.00,162.00 447.00,162.00 444.57,166.46 440.86,168.86 437.00,172.08 437.00,172.08 418.00,187.75 418.00,187.75 418.00,187.75 353.00,241.75 353.00,241.75 353.00,241.75 332.00,259.25 332.00,259.25 329.93,260.97 324.33,265.15 323.46,267.44 322.58,269.72 324.73,276.43 325.37,279.00 325.37,279.00 332.63,308.00 332.63,308.00 332.63,308.00 352.87,388.00 352.87,388.00 354.83,395.81 361.54,418.46 361.00,425.00 361.00,425.00 316.00,396.69 316.00,396.69 316.00,396.69 263.00,363.31 263.00,363.31 263.00,363.31 236.00,346.19 236.00,346.19 236.00,346.19 224.00,339.81 224.00,339.81 224.00,339.81 212.00,345.95 212.00,345.95 212.00,345.95 187.00,361.58 187.00,361.58 187.00,361.58 118.00,404.81 118.00,404.81 118.00,404.81 86.00,424.00 86.00,424.00 86.00,424.00 95.13,386.00 95.13,386.00 95.13,386.00 114.37,310.00 114.37,310.00 114.37,310.00 121.87,281.00 121.87,281.00 122.61,278.07 124.92,270.62 124.23,268.00 123.28,264.37 117.86,260.47 115.00,258.08 115.00,258.08 93.00,239.73 93.00,239.73 93.00,239.73 39.00,194.58 39.00,194.58 39.00,194.58 1.00,163.00 1.00,163.00 5.68,159.97 9.70,161.27 15.00,160.91 15.00,160.91 43.00,159.00 43.00,159.00 43.00,159.00 53.00,158.09 53.00,158.09 53.00,158.09 83.00,156.09 83.00,156.09 83.00,156.09 129.00,153.04 129.00,153.04 129.00,153.04 138.00,153.04 138.00,153.04 138.00,153.04 150.00,152.00 150.00,152.00 153.13,151.98 160.05,151.75 162.59,149.99 165.06,148.28 167.41,140.99 168.60,138.00 168.60,138.00 180.20,109.00 180.20,109.00 180.20,109.00 207.60,41.00 207.60,41.00 207.60,41.00 224.00,1.00 224.00,1.00 Z" />
</svg>
`;

var no_star = `<svg xmlns="http://www.w3.org/2000/svg" width="1.25em" viewBox="0 0 448 426" style="transform: translateY(5px);">
    <path fill="#e9e9e9" stroke="none" d="M 224.00,1.00 C 227.23,4.66 228.60,9.51 230.40,14.00 230.40,14.00 239.40,37.00 239.40,37.00 239.40,37.00 271.00,116.00 271.00,116.00 271.00,116.00 280.00,139.00 280.00,139.00 280.98,141.44 283.25,147.79 284.81,149.49 287.82,152.76 293.92,151.86 298.00,152.04 298.00,152.04 327.00,154.04 327.00,154.04 327.00,154.04 335.00,154.91 335.00,154.91 335.00,154.91 364.00,156.91 364.00,156.91 364.00,156.91 416.00,160.09 416.00,160.09 416.00,160.09 447.00,162.00 447.00,162.00 444.57,166.46 440.86,168.86 437.00,172.08 437.00,172.08 418.00,187.75 418.00,187.75 418.00,187.75 353.00,241.75 353.00,241.75 353.00,241.75 332.00,259.25 332.00,259.25 329.93,260.97 324.33,265.15 323.46,267.44 322.58,269.72 324.73,276.43 325.37,279.00 325.37,279.00 332.63,308.00 332.63,308.00 332.63,308.00 352.87,388.00 352.87,388.00 354.83,395.81 361.54,418.46 361.00,425.00 361.00,425.00 316.00,396.69 316.00,396.69 316.00,396.69 263.00,363.31 263.00,363.31 263.00,363.31 236.00,346.19 236.00,346.19 236.00,346.19 224.00,339.81 224.00,339.81 224.00,339.81 212.00,345.95 212.00,345.95 212.00,345.95 187.00,361.58 187.00,361.58 187.00,361.58 118.00,404.81 118.00,404.81 118.00,404.81 86.00,424.00 86.00,424.00 86.00,424.00 95.13,386.00 95.13,386.00 95.13,386.00 114.37,310.00 114.37,310.00 114.37,310.00 121.87,281.00 121.87,281.00 122.61,278.07 124.92,270.62 124.23,268.00 123.28,264.37 117.86,260.47 115.00,258.08 115.00,258.08 93.00,239.73 93.00,239.73 93.00,239.73 39.00,194.58 39.00,194.58 39.00,194.58 1.00,163.00 1.00,163.00 5.68,159.97 9.70,161.27 15.00,160.91 15.00,160.91 43.00,159.00 43.00,159.00 43.00,159.00 53.00,158.09 53.00,158.09 53.00,158.09 83.00,156.09 83.00,156.09 83.00,156.09 129.00,153.04 129.00,153.04 129.00,153.04 138.00,153.04 138.00,153.04 138.00,153.04 150.00,152.00 150.00,152.00 153.13,151.98 160.05,151.75 162.59,149.99 165.06,148.28 167.41,140.99 168.60,138.00 168.60,138.00 180.20,109.00 180.20,109.00 180.20,109.00 207.60,41.00 207.60,41.00 207.60,41.00 224.00,1.00 224.00,1.00 Z" />
</svg>
`;

var half_star = `<svg xmlns="http://www.w3.org/2000/svg" width="1.25em" viewBox="0 0 448 426" style="transform: translateY(5px);">
    <path fill="yellow" stroke="none" d="M 223.00,2.00 C 224.93,6.87 224.00,25.62 224.00,32.00 224.00,32.00 224.00,100.00 224.00,100.00 224.00,100.00 224.00,331.00 224.00,331.00 224.00,333.15 224.26,336.56 223.01,338.37 221.99,339.84 215.86,343.45 214.00,344.66 214.00,344.66 193.00,357.81 193.00,357.81 193.00,357.81 123.00,401.68 123.00,401.68 115.51,406.41 92.50,421.60 86.00,424.00 86.00,424.00 95.13,386.00 95.13,386.00 95.13,386.00 114.37,310.00 114.37,310.00 114.37,310.00 121.87,281.00 121.87,281.00 122.61,278.07 124.92,270.62 124.23,268.00 123.28,264.37 117.86,260.47 115.00,258.08 115.00,258.08 93.00,239.73 93.00,239.73 93.00,239.73 39.00,194.58 39.00,194.58 39.00,194.58 1.00,163.00 1.00,163.00 5.68,159.97 9.70,161.27 15.00,160.91 15.00,160.91 44.00,158.99 44.00,158.99 44.00,158.99 53.00,158.09 53.00,158.09 53.00,158.09 83.00,156.09 83.00,156.09 83.00,156.09 129.00,153.04 129.00,153.04 129.00,153.04 138.00,153.04 138.00,153.04 138.00,153.04 148.00,152.00 148.00,152.00 151.57,151.96 158.64,151.99 161.78,150.44 164.99,148.85 166.52,143.21 167.80,140.00 167.80,140.00 179.00,112.00 179.00,112.00 179.00,112.00 208.40,39.00 208.40,39.00 208.40,39.00 223.00,2.00 223.00,2.00 Z" />
    <path fill="#e9e9e9" stroke="none" d="M 224.00,1.00 C 227.23,4.66 228.60,9.51 230.40,14.00 230.40,14.00 239.40,37.00 239.40,37.00 239.40,37.00 271.00,116.00 271.00,116.00 271.00,116.00 280.00,139.00 280.00,139.00 280.98,141.44 283.25,147.79 284.81,149.49 287.82,152.76 293.92,151.86 298.00,152.04 298.00,152.04 327.00,154.04 327.00,154.04 327.00,154.04 335.00,154.91 335.00,154.91 335.00,154.91 364.00,156.91 364.00,156.91 364.00,156.91 416.00,160.09 416.00,160.09 416.00,160.09 447.00,162.00 447.00,162.00 444.57,166.46 440.86,168.86 437.00,172.08 437.00,172.08 418.00,187.75 418.00,187.75 418.00,187.75 353.00,241.75 353.00,241.75 353.00,241.75 332.00,259.25 332.00,259.25 329.93,260.97 324.33,265.15 323.46,267.44 322.58,269.72 324.73,276.43 325.37,279.00 325.37,279.00 332.63,308.00 332.63,308.00 332.63,308.00 352.87,388.00 352.87,388.00 354.83,395.81 361.54,418.46 361.00,425.00 361.00,425.00 333.00,407.42 333.00,407.42 333.00,407.42 256.00,358.81 256.00,358.81 256.00,358.81 235.00,345.58 235.00,345.58 235.00,345.58 224.99,338.39 224.99,338.39 224.99,338.39 224.00,331.00 224.00,331.00 224.00,331.00 224.00,1.00 224.00,1.00 Z" />
</svg>
`;

function genStar(rat) {

    var full_stars = parseInt(rat);

    var stars_string = "";

    var stars = 5;

    for (let i = 0; i < full_stars; i++) {
        stars_string += full_star;
        stars += -1;
    }

    if (rat - full_stars != 0) {
        // if there's a half star
        stars_string += half_star;
        stars += -1;
    }

    for (let i = 0; i < stars; i++) {
        stars_string += no_star;
    }

    return stars_string
}

var he = "";
for (i in ratings) {

    var rat = ratings[i]["rating"];

    var stars_string = genStar(rat);

    // finish up the stars stuff

    // including greyed out stars


    he += `<span class="blocky"><br><span class="blocky-text"><span class="italy">"${ratings[i]["text"]}"</span><br><br><span style="color: #e9e9e9;">-${ratings[i]["person"]}</span> <span>${stars_string} (${rat})</span><br><span style="font-size: 0px;">[benson.lol] bogos binted</span></span></span>`

}

// generate the average rat

var rat_list = new Array();
var all_rat = 0;

for (i in ratings) {

    var rat = ratings[i]["rating"];
    
    rat_list.push(rat);
    all_rat += rat;
}

var avg_rat = all_rat / rat_list.length;

if (avg_rat - parseInt(avg_rat) >= 0.5) {
    avg_rat = parseInt(avg_rat) + 0.5;
} else if (avg_rat - parseInt(avg_rat) <= 0.5) {
    avg_rat = parseInt(avg_rat);
}

var avg_rat_string = genStar(avg_rat);

document.getElementById("photos-div").innerHTML = he;
document.getElementById("star-rat").innerHTML = `${avg_rat_string} (${avg_rat})`;